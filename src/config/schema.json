{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "version": "2.0.0",
    "description": "Minimalify configuration schema (updated with extended SEO, Sitemap, and Favicon support)",
    "title": "MinimalifyConfig",
    "type": "object",
    "properties": {
        "srcDir": {
            "type": "string",
            "description": "The starting point of the project",
            "default": "."
        },
        "outDir": {
            "type": "string",
            "description": "The output directory of the project",
            "default": "dist"
        },
        "sharedDomains": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "description": "Processable assets domains",
            "default": ["https://therahulagarwal.com"]
        },
        "html": {
            "$ref": "#/definitions/HTMLConfig"
        },
        "js": {
            "$ref": "#/definitions/JSConfig"
        },
        "css": {
            "$ref": "#/definitions/CSSConfig"
        },
        "images": {
            "$ref": "#/definitions/ImageConfig"
        },
        "templates": {
            "$ref": "#/definitions/TemplatesConfig"
        },
        "dev": {
            "type": "object",
            "properties": {
                "port": {
                    "type": "integer",
                    "default": 3000,
                    "description": "Port number for dev server"
                }
            },
            "additionalProperties": false
        },
        "customDomain": {
            "type": "string",
            "description": "Optional custom domain",
            "default": ""
        },
        "seo": {
            "$ref": "#/definitions/SeoConfig"
        },
        "favicon": {
            "$ref": "#/definitions/FaviconConfig"
        },
        "plugins": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "description": "List of minimalify plugins",
            "minItems": 0,
            "default": [
                "bundle-analyzer",
                "image-optimizer",
                "accessibility",
                "sitemap",
                "version-assets",
                "custom-domain",
                "markdown",
                "spa",
                "perf-monitor"
            ]
        },
        "cache": {
            "type": "boolean",
            "description": "Enable or disable cache",
            "default": true
        }
    },
    "additionalProperties": false,
    "definitions": {
        "HTMLConfig": {
            "type": "object",
            "properties": {
                "minify": {
                    "type": "boolean",
                    "default": true
                },
                "ignore": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "default": []
                }
            },
            "additionalProperties": false
        },
        "JSConfig": {
            "type": "object",
            "properties": {
                "minify": {
                    "type": "boolean",
                    "default": true
                },
                "minifyOptions": {
                    "type": "object",
                    "default": {}
                },
                "ignore": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "default": []
                }
            },
            "additionalProperties": false
        },
        "CSSConfig": {
            "type": "object",
            "properties": {
                "minify": {
                    "type": "boolean",
                    "default": true
                },
                "ignore": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "default": []
                }
            },
            "additionalProperties": false
        },
        "ImageConfig": {
            "type": "object",
            "properties": {
                "optimize": {
                    "type": "boolean",
                    "default": true
                },
                "outDir": {
                    "type": "string",
                    "default": "images"
                },
                "supportedFormats": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "default": ["jpg", "jpeg", "png", "gif", "webp", "svg"]
                },
                "ignore": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "default": []
                }
            },
            "additionalProperties": false
        },
        "TemplatesConfig": {
            "type": "object",
            "properties": {
                "dir": {
                    "type": "string",
                    "default": "templates"
                },
                "sharedUri": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "default": []
                },
                "ignore": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "default": []
                }
            },
            "additionalProperties": false
        },
        "SeoConfig": {
            "type": "object",
            "properties": {
                "title": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "keywords": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "classification": {
                    "type": "string"
                },
                "url": {
                    "type": "string"
                },
                "rating": {
                    "type": "string",
                    "enum": ["General", "Mature", "Restricted"]
                },
                "target": {
                    "type": "string",
                    "enum": ["all", "mobile", "desktop"]
                },
                "author": {
                    "type": "object",
                    "properties": {
                        "firstName": {
                            "type": "string"
                        },
                        "lastName": {
                            "type": "string"
                        },
                        "username": {
                            "type": "string"
                        },
                        "email": {
                            "type": "string"
                        },
                        "image": {
                            "type": "string"
                        },
                        "imageAlt": {
                            "type": "string"
                        },
                        "imageType": {
                            "type": "string"
                        },
                        "twitter": {
                            "type": "string"
                        },
                        "facebook": {
                            "type": "string"
                        },
                        "linkedin": {
                            "type": "string"
                        },
                        "github": {
                            "type": "string"
                        },
                        "instagram": {
                            "type": "string"
                        },
                        "youtube": {
                            "type": "string"
                        }
                    },
                    "additionalProperties": false
                },
                "opengraph": {
                    "type": "object",
                    "properties": {
                        "type": {
                            "type": "string"
                        },
                        "site_name": {
                            "type": "string"
                        }
                    },
                    "additionalProperties": false
                },
                "twitter": {
                    "type": "object",
                    "properties": {
                        "title": {
                            "type": "string"
                        },
                        "description": {
                            "type": "string"
                        },
                        "site": {
                            "type": "string"
                        },
                        "card": {
                            "type": "string"
                        },
                        "image": {
                            "type": "string"
                        },
                        "imageAlt": {
                            "type": "string"
                        }
                    },
                    "additionalProperties": false
                },
                "robots": {
                    "type": "object",
                    "properties": {
                        "index": {
                            "type": "boolean"
                        },
                        "follow": {
                            "type": "boolean"
                        },
                        "allow": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "disallow": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "crawlDelay": {
                            "type": "number"
                        },
                        "userAgent": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "additionalProperties": false
                }
            },
            "additionalProperties": false
        },
        "FaviconConfig": {
            "type": "object",
            "properties": {
                "svgPath": {
                    "type": "string"
                },
                "themeColor": {
                    "type": "string"
                },
                "msTileColor": {
                    "type": "string"
                }
            },
            "additionalProperties": false
        }
    }
}
