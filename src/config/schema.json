{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "version": "2.0.0",
    "description": "Minimalify configuration schema (updated with extended SEO, Sitemap, and Favicon support)",
    "title": "MinimalifyConfig",
    "type": "object",
    "properties": {
        "srcDir": {
            "type": "string",
            "description": "The starting point of the project",
            "default": "."
        },
        "outDir": {
            "type": "string",
            "description": "The output directory of the project",
            "default": "dist"
        },
        "sharedDomains": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "description": "Processable assets domains to download the dependent CSS & JS files",
            "default": ["https://therahulagarwal.com"]
        },
        "html": {
            "$ref": "#/definitions/HTMLConfig"
        },
        "js": {
            "$ref": "#/definitions/JSConfig"
        },
        "css": {
            "$ref": "#/definitions/CSSConfig"
        },
        "images": {
            "$ref": "#/definitions/ImageConfig"
        },
        "templates": {
            "$ref": "#/definitions/TemplatesConfig"
        },
        "dev": {
            "type": "object",
            "properties": {
                "port": {
                    "type": "integer",
                    "default": 3000,
                    "description": "Port number for dev server"
                }
            },
            "additionalProperties": false
        },
        "customDomain": {
            "type": "string",
            "description": "Optional custom domain to generate the CNAME records",
            "default": ""
        },
        "seo": {
            "$ref": "#/definitions/SeoConfig"
        },
        "favicon": {
            "$ref": "#/definitions/FaviconConfig"
        },
        "plugins": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "description": "List of minimalify plugins",
            "minItems": 0,
            "default": [
                "bundle-analyzer",
                "image-optimizer",
                "accessibility",
                "sitemap",
                "version-assets",
                "custom-domain",
                "markdown",
                "spa",
                "perf-monitor"
            ]
        },
        "cache": {
            "type": "boolean",
            "description": "Enable or disable cache",
            "default": true
        }
    },
    "additionalProperties": false,
    "definitions": {
        "HTMLConfig": {
            "type": "object",
            "properties": {
                "minify": {
                    "type": "boolean",
                    "description": "Enable or disable HTML minification",
                    "default": true
                },
                "ignore": {
                    "type": "array",
                    "description": "List of HTML files to ignore, relative to srcDir",
                    "items": {
                        "type": "string"
                    },
                    "default": []
                }
            },
            "additionalProperties": false
        },
        "JSConfig": {
            "type": "object",
            "properties": {
                "minify": {
                    "type": "boolean",
                    "description": "Enable or disable JS minification",
                    "default": true
                },
                "minifyOptions": {
                    "type": "object",
                    "description": "Options for JS minification, use the terser options",
                    "default": {}
                },
                "ignore": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "default": []
                }
            },
            "additionalProperties": false
        },
        "CSSConfig": {
            "type": "object",
            "properties": {
                "minify": {
                    "type": "boolean",
                    "description": "Enable or disable CSS minification",
                    "default": true
                },
                "ignore": {
                    "type": "array",
                    "description": "List of CSS files to ignore, relative to srcDir",
                    "items": {
                        "type": "string"
                    },
                    "default": []
                }
            },
            "additionalProperties": false
        },
        "ImageConfig": {
            "type": "object",
            "properties": {
                "optimize": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable or disable image optimization"
                },
                "supportedFormats": {
                    "type": "array",
                    "description": "List of supported image formats, eg. jpg, png, gif, webp, svg",
                    "items": {
                        "type": "string"
                    },
                    "default": ["jpg", "jpeg", "png", "gif", "webp", "svg"]
                },
                "ignore": {
                    "type": "array",
                    "description": "List of image files to ignore, relative to srcDir",
                    "items": {
                        "type": "string"
                    },
                    "default": []
                }
            },
            "additionalProperties": false
        },
        "TemplatesConfig": {
            "type": "object",
            "properties": {
                "dir": {
                    "type": "string",
                    "default": "templates",
                    "description": "Directory for templates, relative to srcDir"
                },
                "sharedUri": {
                    "type": "array",
                    "description": "List of shared URIs for templates to download",
                    "items": {
                        "type": "string"
                    },
                    "default": []
                },
                "ignore": {
                    "type": "array",
                    "description": "List of files to ignore, relative to srcDir",
                    "items": {
                        "type": "string"
                    },
                    "default": []
                }
            },
            "additionalProperties": false
        },
        "SeoConfig": {
            "type": "object",
            "properties": {
                "title": {
                    "type": "string",
                    "description": "Title of the page, used for SEO"
                },
                "description": {
                    "type": "string",
                    "description": "Description of the page, used for SEO"
                },
                "keywords": {
                    "type": "array",
                    "description": "List of keywords for SEO",
                    "items": {
                        "type": "string"
                    }
                },
                "classification": {
                    "type": "string",
                    "description": "Classification of the page, eg. portfolio, blog, etc."
                },
                "url": {
                    "type": "string",
                    "description": "URL of the page, eg. https://example.com"
                },
                "rating": {
                    "type": "string",
                    "description": "Rating of the page, eg. General, Mature, Restricted",
                    "enum": ["General", "Mature", "Restricted"]
                },
                "target": {
                    "type": "string",
                    "description": "Target audience for the page, eg. all, mobile, desktop",
                    "enum": ["all", "mobile", "desktop"]
                },
                "author": {
                    "type": "object",
                    "properties": {
                        "firstName": {
                            "type": "string",
                            "description": "First name of the user"
                        },
                        "lastName": {
                            "type": "string",
                            "description": "Last name of the user"
                        },
                        "username": {
                            "type": "string",
                            "description": "Username of the user, eg. GitHub"
                        },
                        "email": {
                            "type": "string",
                            "description": "Email of the user"
                        },
                        "image": {
                            "type": "string",
                            "description": "URL of the image of the user"
                        },
                        "imageAlt": {
                            "type": "string",
                            "description": "Alternative text for the image of the user"
                        },
                        "imageType": {
                            "type": "string",
                            "description": "Type of the image of the user, eg. image/png, image/jpeg"
                        },
                        "twitter": {
                            "type": "string",
                            "description": "Twitter username of the user, please use full url"
                        },
                        "facebook": {
                            "type": "string",
                            "description": "Facebook username of the user, please use full url"
                        },
                        "linkedin": {
                            "type": "string",
                            "description": "LinkedIn username of the user, please use full url"
                        },
                        "github": {
                            "type": "string",
                            "description": "GitHub username of the user, please use full url"
                        },
                        "instagram": {
                            "type": "string",
                            "description": "Instagram username of the user, please use full url"
                        },
                        "youtube": {
                            "type": "string",
                            "description": "YouTube username of the user, please use full url"
                        }
                    },
                    "additionalProperties": false
                },
                "opengraph": {
                    "type": "object",
                    "properties": {
                        "type": {
                            "type": "string",
                            "description": "Type of Open Graph object. eg. article, website, video, etc."
                        },
                        "site_name": {
                            "type": "string",
                            "description": "Name of the site, used in Open Graph"
                        }
                    },
                    "additionalProperties": false
                },
                "twitter": {
                    "type": "object",
                    "properties": {
                        "title": {
                            "type": "string",
                            "description": "Title for Twitter card"
                        },
                        "description": {
                            "type": "string",
                            "description": "Description for Twitter card"
                        },
                        "site": {
                            "type": "string",
                            "description": "Twitter username of the site"
                        },
                        "card": {
                            "type": "string",
                            "enum": [
                                "summary",
                                "summary_large_image",
                                "app",
                                "player"
                            ],
                            "description": "Type of Twitter card"
                        },
                        "image": {
                            "type": "string",
                            "description": "URL of the image to be displayed in the Twitter card"
                        },
                        "imageAlt": {
                            "type": "string",
                            "description": "Alternative text for the image in the Twitter card"
                        }
                    },
                    "additionalProperties": false
                },
                "robots": {
                    "type": "object",
                    "properties": {
                        "index": {
                            "type": "boolean",
                            "description": "Whether to index the page or not"
                        },
                        "follow": {
                            "type": "boolean",
                            "description": "Whether to follow the links on the page or not"
                        },
                        "allow": {
                            "type": "array",
                            "description": "List of paths to allow for crawling",
                            "items": {
                                "type": "string"
                            }
                        },
                        "disallow": {
                            "type": "array",
                            "description": "List of paths to disallow for crawling",
                            "items": {
                                "type": "string"
                            }
                        },
                        "crawlDelay": {
                            "type": "number",
                            "description": "Delay in seconds between requests to the server"
                        },
                        "userAgent": {
                            "type": "array",
                            "description": "List of user agents to apply the rules to. (Default: all)",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "additionalProperties": false
                }
            },
            "additionalProperties": false
        },
        "FaviconConfig": {
            "type": "object",
            "properties": {
                "svgPath": {
                    "type": "string",
                    "description": "Path to the SVG file for the favicon"
                },
                "themeColor": {
                    "type": "string",
                    "description": "Theme color for the favicon. (Note: this will be displaced in the browser tab)"
                },
                "msTileColor": {
                    "type": "string",
                    "description": "Color for the Windows 8/10 tile. (Note: this will be used for Windows devices)"
                },
                "appleTouchIcon": {
                    "type": "string",
                    "description": "Path to the Apple touch icon. (Note: this will be used for iOS devices)"
                },
                "safariPinnedTabIcon": {
                    "type": "string",
                    "description": "Path to the Safari pinned tab icon. (Note: this will be used for Safari)"
                }
            },
            "additionalProperties": false
        }
    }
}
